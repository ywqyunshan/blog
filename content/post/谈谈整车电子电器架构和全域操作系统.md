---
layout:     post

title:      "谈谈整车电子电器架构和全域操作系统"
subtitle:   ""
excerpt: ""
author:     "iigeoywq"
date:       2025-11-01
published: true 
tags:
    - 系统理论 

categories: [ Tech ]
URL: "/2025/11/01/"
---

> 关于电子电器架构各种科普文章梳理就是几个概念化（分布式->域控制器->中央+域控制器），这个架构演进本质到底解决什么问题呢？整车全域操作系统就是Classic AutoSar 和 Classic AUTOSAR 到底解决什么问题？本文尝试简单把E/E架构和现代汽车全域操作系统讲清楚。

## 整车电子电器架构
回到2019年，特斯拉mode3 设计的时候，针对初创企业资金紧张以及特斯拉的革命性旗帜智能化，传统电子电器架构有下面几个难题
* 整车ecu个数100多个；
* 总线束达到3公里；
* 软硬强耦合，不能整车软件OTA升级；

上面三个难题最终的结果就是成本高，弱依赖供应商。
看看特斯拉如何解决上述三个问题，并且重构整车电子电器架构，最终线束缩短到100米左右，ecu减少到20个左右。
* 做域控制器，减少依赖供应商，逻辑上移到域控制器，供应商尽量做执行，不做逻辑，减少了ECU个数，并同时实现了软硬解耦，可以自主可控软件OTA升级，其实也同时减少了线束个数；
* 按区域划分域控制器，分左右域和前后域，重排线束，减少了线束长度。
* 做中央控制器，其实就是把座舱域和自动驾驶域合并到一个主板，进一步减少线束和ECU个数，并且通过以太网通信，顺便说一下，也同时把互联网行业的技术栈引入到了汽车领域，提高了座舱域和自动驾驶域的地位，也就是后来所说的软件定义汽车。

后续蔚小理跟随特斯拉的脚步，把域控制器的通信升级为以太网。

下面结合上面几点梳理一下特斯拉以及后来的追随者蔚小理的电子电器架构演进

![电子电器架构演进](/img/电子电器架构.png)

## 整车全域操作系统
个人理解整车全域操作系统其实包括四个大的模块：
* MCU控制器上的实时操作系统，主要部署在动力域，车控域，底盘域；
* SOC上的linux或者android系统，主要部署在座舱域；
* SOC上的类linux系统（例如地平线和英伟达），主要部署在自动驾驶域；
* 整车通信框架，例如CAN/DDS;

特斯来和蔚小理都基本都绕不开这四点。Classic AutoSar 和 Adaptive AutoSar 到底是解决什么问题呢？
还是解决软硬耦合

* Classic AutoSar  其实解决的就是MCU上部署的实时操作系统例如 freertos 内核 没有像android系统那样提供基础设施（硬件抽象层/系统组件层/RTE统一接口层），需要构建一套；
* Adaptive AutoSar 其实解决的是mpu或者soc 上部署的通用操作系统提供基础栈。这里有个点对于座舱域的android系统因为在手机时代已经和硬件厂商做好了兼容，没有必要在单独搞基础设施了，但是对于自动驾驶强域强依赖硬件厂商，所以特斯来蔚小理各家也在基于类Linux系统自研基础设施栈，期望屏蔽硬件厂商的依赖，但是效果如何，看看后续把。

其实各家自研操作系统优势就2点：
* 取代mcu上的Classic AutoSar;
* 在自动驾驶域可以屏蔽硬件依赖；

整车全域操作系统，其实特斯拉蔚小理各家大差不大，由于理想开源了自家的操作系统，就借用一张

![理想整车操作系统](/img/星环操作系统.png)


##  小结
上述的E/E架构和整车操作系统，新势力几家大差不差，但是理想开源了自家的操作系统[星环OS开源项目](https://gitee.com/haloos/),后续文章将从通信框架,mcu上的实时操作系统 进行源码分析。

